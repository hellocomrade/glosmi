package us.glos.mi;

import java.io.IOException;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;
import java.util.ArrayList;
import org.glc.utils.Validation;
import org.glc.utils.Encryption;
import org.glc.domain.*;
import us.glos.mi.domain.*;
import us.glos.mi.db.SqlHelper;
import us.glos.mi.dao.*;
/**
 * Servlet implementation class for Servlet: Test
 *
 */
 public class Test extends javax.servlet.http.HttpServlet implements javax.servlet.Servlet {
   static final long serialVersionUID = 1L;
   
    /* (non-Java-doc)
	 * @see javax.servlet.http.HttpServlet#HttpServlet()
	 */
	public Test() {
		super();
	}   	
	
	/* (non-Java-doc)
	 * @see javax.servlet.http.HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)
	 */
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		// TODO Auto-generated method stub
		//request.getRequestDispatcher("/WEB-INF/test.jsp").forward(request, response);
		//String p=Validation.isValidPhone("971-9135");
		//response.getWriter().print(p);
		/*User usr=new User();
		usr.setEmail("foo@bar.com");
		usr.setPrivilegeLevel(7);
		//usr.setPassword(Encryption.MD5("dafgeog2231"));
		us.glos.mi.dao.MIDefaultUserDAO dao=new us.glos.mi.dao.MIDefaultUserDAO();
		boolean result=dao.resetPassword(usr, Encryption.MD5("123456"));
		response.getWriter().print(result);*/
		//java.util.List<String> list=SqlHelper.getAgencyNames();
		//response.getWriter().print(list.size());
		/*HttpSession se = request.getSession();

		System.out.println( se );

		se.invalidate();

		HttpSession se2 = request.getSession(true);

		System.out.println( se2 );

		se2.setAttribute( "foo", "bar" );*/
		//MIDefaultModDAO dao=new MIDefaultModDAO();
		//dao.getModelInfoByPage(0, 3, 0, false);
		/*ModelInfo mi=new ModelInfo();
		mi.setId(10);
		Contact dev=new Contact();
		dev.setEmail("g@glc.org");
		Address a=new Address();
		a.setAddress1("2805 Industrial");
		Orgnization o=new Orgnization();
		o.setName("Great Lakes Commission");
		dev.setAddress(a);
		dev.setOrgnization(o);
		mi.setDeveloper(dev);
		java.io.ByteArrayOutputStream stream=new java.io.ByteArrayOutputStream();
		java.io.ObjectOutputStream objstream=new java.io.ObjectOutputStream(stream);
		
		objstream.writeObject(mi);
		objstream.flush();
		byte[] db=stream.toByteArray();
		mi=null;
		java.io.ByteArrayInputStream instream=new java.io.ByteArrayInputStream(db);
		java.io.ObjectInputStream objinstream=new java.io.ObjectInputStream(instream);
		try {
			mi=(ModelInfo)objinstream.readObject();
		} catch (ClassNotFoundException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		ArrayList<Contact> devs=mi.getDevelopers();
		String ad1=devs.get(0).getAddress().getAddress1();
		String org=devs.get(0).getOrgnization().getName();*/
		//org.glc.utils.ServerUtilities.sendMail("test", "I'a a test", null, new String[]{"gwang@glc.org"});
		
	}  	
	
	/* (non-Java-doc)
	 * @see javax.servlet.http.HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)
	 */
	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		// TODO Auto-generated method stub
	}   	  	    
}